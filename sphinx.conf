#
# Minimal Sphinx configuration sample (clean, simple, functional)
#

# matrr_production sources and indexes
#
source monkey_src
{
	type			= pgsql
	sql_host		= localhost
	sql_user		= matrr_prod
	sql_pass		= m0nk3y_1s_drUnK
	sql_db			= matrr_production
	sql_port		= 5432	# optional, default is 3306

	sql_query		= \
		SELECT mky_id, coh_cohort_id, mky_weight, mky_gender \
		FROM mky_monkeys

	sql_attr_uint		= coh_cohort_id

	sql_query_info		= SELECT * FROM mky_monkeys WHERE mky_id=$id
}


source monkey_auth_src
{
	type            = pgsql
	sql_host        = localhost
	sql_user		= matrr_prod
	sql_pass		= m0nk3y_1s_drUnK
	sql_db			= matrr_production
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT mky_id, mky_real_id, coh_cohort_id, mky_name, mky_weight, mky_gender \
			FROM mky_monkeys

	sql_attr_uint           = coh_cohort_id

	sql_query_info          = SELECT * FROM mky_monkeys WHERE mky_id=$id
}

source cohort_src
{
	type			= pgsql
	sql_host		= localhost
	sql_user		= matrr_prod
	sql_pass		= m0nk3y_1s_drUnK
	sql_db			= matrr_production
	sql_port		= 5432	# optional, default is 3306

	sql_query		= \
		SELECT coh_cohort_id, coh_cohort_name \
		FROM coh_cohorts

	sql_query_info		= SELECT * FROM mky_monkeys WHERE coh_cohort_id=$id
}

source publications_src
{
	type                    = pgsql
	sql_host		= localhost
	sql_user		= matrr_prod
	sql_pass		= m0nk3y_1s_drUnK
	sql_db			= matrr_production
	sql_port		= 5432	# optional, default is 3306
	sql_query       = \
                SELECT id, keywords, authors, title \
                FROM pub_publications

}

index monkey
{
	source			= monkey_src
	path			= /usr/local/var/data/monkey
	docinfo			= extern
	charset_type	= sbcs
	min_infix_len 	= 3
}

index monkey_auth
{
	source			= monkey_auth_src
	path 			= /usr/local/var/data/monkey_auth
	docinfo			= extern
	charset_type	= sbcs
	min_infix_len	= 3
}

index cohort
{
	source			= cohort_src
	path			= /usr/local/var/data/cohort
	docinfo			= extern
	charset_type	= sbcs
	min_infix_len 	= 3
}

index publications
{
	source			= publications_src
	path            = /usr/local/var/data/publications
	docinfo         = extern
	charset_type    = sbcs
	min_infix_len 	= 3
}


######
###### matrr_jon sources and indexes
######


source j_monkey_src
{
	type                    = pgsql

	sql_host                = localhost
	sql_user                = matrr_jon
	sql_pass                = !HaYtbIaPF
	sql_db                  = matrr_jon
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT mky_id, mky_id, coh_cohort_id, mky_weight, mky_gender \
			FROM mky_monkeys

	sql_attr_uint           = coh_cohort_id

	sql_query_info          = SELECT * FROM mky_monkeys WHERE mky_id=$id
}


source j_monkey_auth_src
{
	type                    = pgsql

	sql_host                = localhost
	sql_user                = matrr_jon
	sql_pass                = !HaYtbIaPF
	sql_db                  = matrr_jon
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT mky_id, mky_id, mky_real_id, coh_cohort_id, mky_name, mky_weight, mky_gender \
			FROM mky_monkeys

	sql_attr_uint           = coh_cohort_id

	sql_query_info          = SELECT * FROM mky_monkeys WHERE mky_id=$id
}

source j_cohort_src
{
	type                    = pgsql

	sql_host                = localhost
	sql_user                = matrr_jon
	sql_pass                = !HaYtbIaPF
	sql_db                  = matrr_jon
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT coh_cohort_id, coh_cohort_name \
			FROM coh_cohorts

	sql_query_info          = SELECT * FROM mky_monkeys WHERE coh_cohort_id=$id
}

source j_publications_src
{
	type                    = pgsql
	sql_host                = localhost
	sql_user                = matrr_jon
	sql_pass                = !HaYtbIaPF
	sql_db                  = matrr_jon
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT id, keywords, authors, title \
			FROM pub_publications
}

source j_monkeyprotein_src
{
	type                    = pgsql
	sql_host                = localhost
	sql_user                = matrr_jon
	sql_pass                = !HaYtbIaPF
	sql_db                  = matrr_jon
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT mpn_id, mky_id, pro_id from mpn_monkey_protein

}

index j_monkey
{
	source                  = j_monkey_src
	path                    = /usr/local/var/data/j_monkey
	docinfo                 = extern
	charset_type            = sbcs
	min_infix_len = 3
}

index j_monkey_auth
{
	source                  = j_monkey_auth_src
	path                    = /usr/local/var/data/j_monkey_auth
	docinfo                 = extern
	charset_type            = sbcs
	min_infix_len           = 3
}

index j_cohort
{
	source                  = j_cohort_src
	path                    = /usr/local/var/data/j_cohort
	docinfo                 = extern
	charset_type            = sbcs
	min_infix_len = 3
}

index j_publications
{
	source                  = j_publications_src
	path                    = /usr/local/var/data/j_publications
	docinfo                 = extern
	charset_type            = sbcs
	min_infix_len = 3
}

index j_monkeyprotein
{
	source                  = j_monkeyprotein_src
	path                    = /usr/local/var/data/j_monkeyprotein
	docinfo                 = extern
	charset_type            = sbcs
	min_infix_len = 3
}


######
###### matrr_slavka sources and indexes
######


source s_monkey_src
{
	type                    = pgsql

	sql_host                = localhost
	sql_user                = matrr_slavka
	sql_pass                = DrznOP01!&
	sql_db                  = matrr_slavka
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT mky_id, coh_cohort_id, mky_weight, mky_gender \
			FROM mky_monkeys

	sql_attr_uint           = coh_cohort_id

	sql_query_info          = SELECT * FROM mky_monkeys WHERE mky_id=$id
}


source s_monkey_auth_src
{
	type                    = pgsql

	sql_host                = localhost
	sql_user                = matrr_slavka
	sql_pass                = DrznOP01!&
	sql_db                  = matrr_slavka
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT mky_id, mky_real_id, coh_cohort_id, mky_name, mky_weight, mky_gender \
			FROM mky_monkeys

	sql_attr_uint           = coh_cohort_id

	sql_query_info          = SELECT * FROM mky_monkeys WHERE mky_id=$id
}

source s_cohort_src
{
	type                    = pgsql

	sql_host                = localhost
	sql_user                = matrr_slavka
	sql_pass                = DrznOP01!&
	sql_db                  = matrr_slavka
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT coh_cohort_id, coh_cohort_name \
			FROM coh_cohorts

	sql_query_info          = SELECT * FROM mky_monkeys WHERE coh_cohort_id=$id
}

index s_monkey
{
	source                  = s_monkey_src
	path                    = /usr/local/var/data/s_monkey
	docinfo                 = extern
	charset_type            = sbcs
min_infix_len = 3
}

index s_monkey_auth
{
	source                  = s_monkey_auth_src
	path                    = /usr/local/var/data/s_monkey_auth
	docinfo                 = extern
	charset_type            = sbcs
	min_infix_len           = 3
}

index s_cohort
{
	source                  = s_cohort_src
	path                    = /usr/local/var/data/s_cohort
	docinfo                 = extern
	charset_type            = sbcs
min_infix_len = 3
}


######
###### matrr_development sources and indexes
######


source d_monkey_src
{
	type                    = pgsql

	sql_host                = localhost
	sql_user                = matrr_develop
	sql_pass                = PsNvAMDt91
	sql_db                  = matrr_development
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT mky_id, coh_cohort_id, mky_weight, mky_gender \
			FROM mky_monkeys

	sql_attr_uint           = coh_cohort_id

	sql_query_info          = SELECT * FROM mky_monkeys WHERE mky_id=$id
}


source d_monkey_auth_src
{
	type                    = pgsql

	sql_host                = localhost
	sql_user                = matrr_develop
	sql_pass                = PsNvAMDt91
	sql_db                  = matrr_development
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT mky_id, mky_real_id, coh_cohort_id, mky_name, mky_weight, mky_gender \
			FROM mky_monkeys

	sql_attr_uint           = coh_cohort_id

	sql_query_info          = SELECT * FROM mky_monkeys WHERE mky_id=$id
}

source d_cohort_src
{
	type                    = pgsql

	sql_host                = localhost
	sql_user                = matrr_develop
	sql_pass                = PsNvAMDt91
	sql_db                  = matrr_development
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT coh_cohort_id, coh_cohort_name \
			FROM coh_cohorts

	sql_query_info          = SELECT * FROM mky_monkeys WHERE coh_cohort_id=$id
}

source d_publications_src
{
	type                    = pgsql
	sql_host                = localhost
	sql_user                = matrr_develop
	sql_pass                = PsNvAMDt91
	sql_db                  = matrr_development
	sql_port                = 5432  # optional, default is 3306

	sql_query               = \
			SELECT id, keywords, authors, title \
			FROM pub_publications

}

index d_monkey
{
	source                  = d_monkey_src
	path                    = /usr/local/var/data/d_monkey
	docinfo                 = extern
	charset_type            = sbcs
	min_infix_len = 3
}

index d_monkey_auth
{
	source                  = d_monkey_auth_src
	path                    = /usr/local/var/data/d_monkey_auth
	docinfo                 = extern
	charset_type            = sbcs
	min_infix_len           = 3
}

index d_cohort
{
	source                  = d_cohort_src
	path                    = /usr/local/var/data/d_cohort
	docinfo                 = extern
	charset_type            = sbcs
min_infix_len = 3
}

index d_publications
{
	source                  = d_publications_src
	path                    = /usr/local/var/data/d_publications
	docinfo                 = extern
	charset_type            = sbcs
min_infix_len = 3
}




indexer
{
	mem_limit		= 32M
}


searchd
{
	listen			= 9312
	listen			= 9306:mysql41
	log			= /usr/local/var/log/searchd.log
	query_log		= /usr/local/var/log/query.log
	read_timeout		= 5
	max_children		= 30
	pid_file		= /usr/local/var/log/searchd.pid
	max_matches		= 1000
	seamless_rotate		= 1
	preopen_indexes		= 0
	unlink_old		= 1
}
